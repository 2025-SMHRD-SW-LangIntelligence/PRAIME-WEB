<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link th:href="@{/css/font.css}" rel="stylesheet">
<link th:href="@{/css/common.css}" rel="stylesheet">
<link th:href="@{/css/diagnosis/upload.css}" rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script th:src="@{/js/common.js}"></script>
<script th:src="@{/js/diagnosis/upload.js}"></script>
<title>병해충 AI 진단</title>
</head>

<body>
	<div class="container">
		<header>
			<div class="diagnosis-header">
				<a href="#" class="prevPage" onclick="history.back()"> < </a>
				<div class="header-title-group">
					<span class="header-title">병해충 AI 진단</span>
				</div>
			</div>
		</header>

		<main>
            <div class="diagnosis-actions top-actions">
                <button type="button" class="btn btn-primary" id="start-diagnosis">
                    <i class="fas fa-stethoscope"></i> 진단하기
                </button>
                <button type="button" class="btn btn-outline" id="view-history">
                    <i class="fas fa-history"></i> 진단 이력
                </button>
            </div>

            <div class="content-wrapper">
                <section class="diagnosis-upload">
                    <div class="upload-box">
                        <i class="fas fa-image upload-icon"></i>
                        <h2>작물 사진 업로드</h2>
                        <p>병해충이 의심되는 부분을 촬영하거나 이미지를 업로드하세요</p>
                        <div class="upload-buttons">
                            <button type="button" class="btn btn-outline" id="upload-file">
                                <i class="fas fa-upload"></i> 파일 업로드
                            </button>
                        </div>
                    </div>

                    <div class="diagnosis-result hidden" id="diagnosisResult">
                        <h3>진단 결과</h3>
                        <div class="result-item">
                            <span class="result-label-title">탐지결과:</span>
                            <span id="result-label">--</span>
                        </div>
                        <div class="result-item">
                            <span id="result-short-description" class="result-sub-text"></span>
                        </div>
                        <div class="result-item">
                            <span class="result-confidence-title">신뢰도:</span>
                            <span id="result-confidence">--%</span>
                        </div>
                        <div class="result-description hidden" id="result-description-container">
                            <h4>상세 설명</h4>
                            <p id="result-description">--</p>
                        </div>
                        <div id="solution-container" class="result-description" style="display: none;">
                            <h4>해결 방법</h4>
                            <p id="solution-text">--</p>
                        </div>
                        <div id="google-search-link-container" class="hidden">
                            <a id="google-search-link" href="#" target="_blank" class="btn btn-secondary mt-2">
                                <i class="fas fa-search"></i> 구글에서 질병 정보 더보기
                            </a>
                        </div>
                    </div>
                </section>
            </div> <div class="button-group">
                <button class="reset-btn">리셋</button>
                <button class="diagnosis-result-btn" id="diagnosisResultSaveBtn">결과저장</button>
            </div>
		</main>
	</div>
    <div th:replace="/global/footer::footer"></div>
</body>
</html>